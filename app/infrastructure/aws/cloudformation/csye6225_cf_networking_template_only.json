{  
   "Resources":{  
      "VPC":{  
         "Type":"AWS::EC2::VPC",
         "Properties":{  
            "CidrBlock":"10.0.0.0/16",
            "EnableDnsSupport":true,
            "EnableDnsHostnames":true,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"csye6225-vpc"
               }
            ]
         }
      },
      "InternetGateway":{  
         "Type":"AWS::EC2::InternetGateway",
         "Properties":{  
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"csye6225-ig"
               }
            ]
         }
      },
      "InternetGatewayAttachment":{  
         "Type":"AWS::EC2::VPCGatewayAttachment",
         "Properties":{  
            "InternetGatewayId":{  
               "Ref":"InternetGateway"
            },
            "VpcId":{  
               "Ref":"VPC"
            }
         }
      },
      "PublicSubnet1":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "0",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.0.0/24",
            "MapPublicIpOnLaunch":true,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"pbsn1"
               }
            ]
         }
      },
      "PublicSubnet2":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "1",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.1.0/24",
            "MapPublicIpOnLaunch":true,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"pbsn2"
               }
            ]
         }
      },
      "PublicSubnet3":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "2",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.2.0/24",
            "MapPublicIpOnLaunch":true,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"pbsn3"
               }
            ]
         }
      },
      "PrivateSubnet1":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "0",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.3.0/24",
            "MapPublicIpOnLaunch":false,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prsn1"
               }
            ]
         }
      },
      "PrivateSubnet2":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "1",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.4.0/24",
            "MapPublicIpOnLaunch":false,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prsn2"
               }
            ]
         }
      },
      "PrivateSubnet3":{  
         "Type":"AWS::EC2::Subnet",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "AvailabilityZone":{  
               "Fn::Select":[  
                  "2",
                  {  
                     "Fn::GetAZs":""
                  }
               ]
            },
            "CidrBlock":"10.0.5.0/24",
            "MapPublicIpOnLaunch":false,
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prsn3"
               }
            ]
         }
      },
      "PublicRouteTable":{  
         "Type":"AWS::EC2::RouteTable",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"pbrt"
               }
            ]
         }
      },
      "DefaultPublicRoute":{  
         "Type":"AWS::EC2::Route",
         "DependsOn":"InternetGatewayAttachment",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PublicRouteTable"
            },
            "DestinationCidrBlock":"0.0.0.0/0",
            "GatewayId":{  
               "Ref":"InternetGateway"
            }
         }
      },
      "PublicSubnet1RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PublicRouteTable"
            },
            "SubnetId":{  
               "Ref":"PublicSubnet1"
            }
         }
      },
      "PublicSubnet2RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PublicRouteTable"
            },
            "SubnetId":{  
               "Ref":"PublicSubnet2"
            }
         }
      },
      "PublicSubnet3RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PublicRouteTable"
            },
            "SubnetId":{  
               "Ref":"PublicSubnet3"
            }
         }
      },
      "PrivateRouteTable1":{  
         "Type":"AWS::EC2::RouteTable",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prrt1"
               }
            ]
         }
      },
      "PrivateSubnet1RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PrivateRouteTable1"
            },
            "SubnetId":{  
               "Ref":"PrivateSubnet1"
            }
         }
      },
      "PrivateRouteTable2":{  
         "Type":"AWS::EC2::RouteTable",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prrt2"
               }
            ]
         }
      },
      "PrivateSubnet2RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PrivateRouteTable2"
            },
            "SubnetId":{  
               "Ref":"PrivateSubnet2"
            }
         }
      },
      "PrivateRouteTable3":{  
         "Type":"AWS::EC2::RouteTable",
         "Properties":{  
            "VpcId":{  
               "Ref":"VPC"
            },
            "Tags":[  
               {  
                  "Key":"Name",
                  "Value":"prrt3"
               }
            ]
         }
      },
      "PrivateSubnet3RouteTableAssociation":{  
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{  
            "RouteTableId":{  
               "Ref":"PrivateRouteTable3"
            },
            "SubnetId":{  
               "Ref":"PrivateSubnet3"
            }
         }
      }
   }
}